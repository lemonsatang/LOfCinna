<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.mysite.lofcinna.mapper.MainMapper">
    <select id="idChk" resultType="int">
        select count(*)
            from user
            where id = #{id}
    </select>

    <insert id="signUp" parameterType="User">
        insert into user
            values(#{id}
                  , #{password}
                  , #{name}
                  , #{phone}
                  , #{email})
    </insert>

    <select id="findByusername" resultType="User">
        select *
            from user
            where id = #{id}
    </select>

    <select id="findId" resultType="String">
        select id
            from user
            where name = #{name}
                and email = #{email}
    </select>

    <select id="revChk" resultType="int">
        select count(*)
            from prerev
            where name = #{name}
                and phone = #{phone}
    </select>

    <insert id="addPreRev" parameterType="PreRev">
        insert into prerev (name , phone)
            values(#{name}, #{phone})
    </insert>
</mapper>
